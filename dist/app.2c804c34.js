(function(t){function e(e){for(var n,s,r=e[0],i=e[1],c=e[2],d=0,f=[];d<r.length;d++)s=r[d],o[s]&&f.push(o[s][0]),o[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(f.length)f.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],n=!0,r=1;r<a.length;r++){var i=a[r];0!==o[i]&&(n=!1)}n&&(l.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},o={1:0},l=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=i;l.push([4,0]),a()})({4:function(t,e,a){t.exports=a("Vtdi")},AKRW:function(t,e,a){},OKyg:function(t,e,a){"use strict";var n=a("AKRW"),o=a.n(n);o.a},Vtdi:function(t,e,a){"use strict";a.r(e);a("VRzm");var n=a("Kw5r"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},l=[],s={name:"app"},r=s,i=(a("ZL7j"),a("KHd+")),c=Object(i["a"])(r,o,l,!1,null,null,null),u=c.exports,d=a("XJYT"),f=a.n(d),p=(a("D66Q"),a("ChK9")),b=a.n(p),m=a("jE9Z"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("el-container",[a("el-header",{staticClass:"header"},[t._v("detail")]),a("el-main",{staticClass:"main"},[a("div",{staticClass:"content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"transaction_info border_box"},[a("div",{staticClass:"info_title"},[t._v("\n            区块详情\n            ")]),a("div",[a("el-table",{attrs:{data:t.tableData2,"row-class-name":t.tableRowClassName,border:""}},[a("el-table-column",{attrs:{prop:"block_id",label:"区块ID"}}),a("el-table-column",{attrs:{prop:"data_count",label:"交易数量",width:"125"}}),a("el-table-column",{attrs:{prop:"txs",label:"所有交易id数组"}}),a("el-table-column",{attrs:{prop:"previous_hash",label:"父区块哈希"}}),a("el-table-column",{attrs:{prop:"data_hash",label:"数据哈希"}})],1)],1)])])])])],1)],1)},_=[],v=a("L2JU");n["default"].use(v["a"]);var w=new v["a"].Store({state:{blockList:[],tableTrans:[],tableNode:[],blockNum:null}}),k={name:"BlockDetail",data:function(){return{show:!0,formInline:{user:"",region:""},tableData2:[],tableNode:[]}},props:{msg:String},methods:{tableRowClassName:function(t){return t.rowIndex%2==1?"warning-row":"success-row"},getBlockInfo:function(){var t,e=d["Loading"].service(),a=this;this.$route.params.id?(localStorage.setItem("blockNum",this.$route.params.id+""),t=this.$route.params.id):t=localStorage.getItem("blockNum"),this.$socket.emit("queryBlock",t),this.$socket.on("blockInfo",function(t,n){e.close(),a.tableData2=[],"ok"===n&&a.tableData2.push(JSON.parse(t))})}},created:function(){},mounted:function(){localStorage.setItem("path","blockDetail"),this.getBlockInfo()}},g=k,y=(a("OKyg"),Object(i["a"])(g,h,_,!1,null,"54be7e40",null)),S=y.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("el-container",[a("el-header",{staticClass:"header"},[t._v("区块信息浏览")]),a("el-main",{staticClass:"main"},[a("el-dialog",{attrs:{title:"交易详情",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{attrs:{data:t.info,"show-header":!1}},[a("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                交易ID\n            ")])]}}])}),a("el-table-column",{attrs:{property:"tx_id"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#67C23A"}},[t._v("\n                "+t._s(e.row.tx_id)+"\n            ")])]}}])})],1),a("el-table",{attrs:{data:t.info,"show-header":!1}},[a("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                通道ID\n            ")])]}}])}),a("el-table-column",{attrs:{property:"channel_id"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#67C23A"}},[t._v("\n                "+t._s(e.row.channel_id)+"\n            ")])]}}])})],1),a("el-table",{attrs:{data:t.info,"show-header":!1}},[a("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                合约ID\n            ")])]}}])}),a("el-table-column",{attrs:{property:"chaincode_id"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#67C23A"}},[t._v("\n                "+t._s(e.row.chaincode_id)+"\n            ")])]}}])})],1),a("el-table",{attrs:{data:t.info,"show-header":!1}},[a("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                时间戳\n            ")])]}}])}),a("el-table-column",{attrs:{property:"timestamp"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#67C23A"}},[t._v("\n                "+t._s(e.row.timestamp)+"\n            ")])]}}])})],1),a("el-table",{attrs:{data:t.info,"show-header":!1}},[a("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                所属ORG\n            ")])]}}])}),a("el-table-column",{attrs:{property:"creator_msp_id"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#67C23A"}},[t._v("\n                "+t._s(e.row.creator_msp_id)+"\n            ")])]}}])})],1),a("el-table",{attrs:{data:t.info,"show-header":!1}},[a("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                背书策略\n            ")])]}}])}),a("el-table-column",{attrs:{property:"endorsements"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#67C23A"}},[t._v("\n                "+t._s(e.row.endorsements)+"\n            ")])]}}])})],1),a("el-table",{attrs:{data:t.info,"show-header":!1}},[a("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                读写集\n            ")])]}}])}),a("el-table-column",{attrs:{property:"write_set"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#67C23A"}},[t._v("\n                "+t._s(e.row.write_set)+"\n            ")])]}}])})],1),a("el-table",{attrs:{data:t.info,"show-header":!1}},[a("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                交易参数\n            ")])]}}])}),a("el-table-column",{attrs:{property:"params"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#67C23A"}},[t._v("\n                "+t._s(e.row.params)+"\n            ")])]}}])})],1)],1),a("div",{staticClass:"content"},[a("div",{staticClass:"block_info"},[a("div",{staticClass:"check_box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.inputData,size:"small"}},[a("el-form-item",[a("el-input",{staticClass:"chaxun",attrs:{placeholder:"输入区块ID"},model:{value:t.inputData.id,callback:function(e){t.$set(t.inputData,"id",e)},expression:"inputData.id"}})],1),a("el-form-item",[a("router-link",{staticClass:"router-link",attrs:{to:{name:"BlockDetail",params:t.inputData}}},[a("el-button",{attrs:{type:"primary"}},[t._v("查询")])],1)],1)],1)],1),a("div",{staticClass:"blocks_box"},[a("div",{ref:"blocks_content",staticClass:"blocks_content",style:{marginLeft:t.marginLeft+"px"},attrs:{id:"blocks_content"}},t._l(t.blocks,function(e){return a("transition",{attrs:{name:"slide-fade"}},[e.show?a("span",{staticClass:"block_item"},[a("router-link",{staticClass:"router-link",attrs:{to:{name:"BlockDetail",params:e}}},[t._v("\n                  "+t._s(e.id)+"\n                  ")])],1):t._e()])}))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"node_info border_box"},[a("div",{staticClass:"info_title"},[t._v("\n            节点信息\n            ")]),a("div",[a("el-table",{attrs:{border:"",data:t.tableNode,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"name",label:"节点名称"}}),a("el-table-column",{attrs:{prop:"orgId",label:"所属ORG"}}),a("el-table-column",{attrs:{prop:"url",label:"地址"}}),a("el-table-column",{attrs:{prop:"eventUrl",label:"event地址"}})],1)],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"transaction_info border_box"},[a("div",{staticClass:"info_title"},[t._v("\n            交易信息\n            ")]),a("div",[a("el-table",{attrs:{border:"",data:t.tableTrans,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"tx_id",label:"交易ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticStyle:{color:"#409EFF"},attrs:{href:"javascript:;",size:"small"},on:{click:function(a){t.aaa(e)}}},[t._v("\n                      "+t._s(e.row.tx_id)+"\n                      ")])]}}])}),a("el-table-column",{attrs:{prop:"channel_id",label:"通道ID",width:"170"}}),a("el-table-column",{attrs:{prop:"chaincode_id",label:"合约ID",width:"170"}}),a("el-table-column",{attrs:{prop:"timestamp",label:"timestamp",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                      "+t._s(t._f("moment")(e.row.timestamp,"YYYY-MM-DD HH:mm:ss"))+"\n                    ")]}}])})],1)],1)])])]),a("div")],1)],1)],1)},I=[],x=(a("Lq01"),{name:"Main",data:function(){return{show:!1,inputData:{id:""},tableTrans:[],tableNode:[],blocks:[],marginLeft:0,dialogTableVisible:!1,info:[]}},props:{msg:String},methods:{headerCellStyle:function(){return"height:0;padding:0;margin:0;border:0;"},tableRowClassName:function(t){return t.rowIndex%2==1?"warning-row":"success-row"},aaa:function(t){var e=d["Loading"].service(),a=this,n=t.row.tx_id;this.$socket.emit("queryTrans",n),this.$socket.on("transInfo",function(t,n){e.close(),a.info=[],a.info.push(JSON.parse(t)),a.dialogTableVisible=!0})},getBlockHeight:function(){var t=this;t.blocks=w.state.blockList,this.$socket.on("blockHeight",function(e,a){if("err"!==a){var n={id:e,show:!1};w.state.blockList.push(n),t.blocks=w.state.blockList;var o=document.getElementById("blocks_content"),l=o.offsetWidth+98;l+t.marginLeft>=930&&(t.marginLeft=t.marginLeft-400);var s=setTimeout(function(){n.show=!0,clearInterval(s)},100)}})},getTransInfoAll:function(){var t=this;this.tableTrans=w.state.tableTrans,this.$socket.on("transInfoAll",function(e,a){w.state.tableTrans=JSON.parse(e).reverse(),t.tableTrans=w.state.tableTrans})},getNodeInfo:function(){var t=this;this.tableNode=w.state.tableNode,this.$socket.emit("getPeer"),this.$socket.on("peers",function(e,a){w.state.tableNode=JSON.parse(e),t.tableNode=w.state.tableNode})}},activated:function(){this.getBlockHeight(),this.getNodeInfo(),this.getTransInfoAll()},mounted:function(){"main"!==localStorage.getItem("path")&&localStorage.getItem("path")&&w.state.blockList.length<=0?(localStorage.setItem("path","main"),location.reload()):(localStorage.setItem("path","main"),this.getNodeInfo(),this.getTransInfoAll(),this.getBlockHeight())}}),D=x,N=(a("vHmf"),Object(i["a"])(D,C,I,!1,null,"09b700b0",null)),T=N.exports;n["default"].use(m["a"]);var O=new m["a"]({routes:[{path:"/",name:"Main",component:T},{path:"/main",name:"Main",component:T},{path:"/blockDetail",name:"BlockDetail",component:S}]});n["default"].use(a("Lq01")),n["default"].use(b.a,"http://192.168.100.154:7777"),n["default"].use(f.a),n["default"].config.productionTip=!1,n["default"].prototype.$msgbox=d["MessageBox"],new n["default"]({router:O,render:function(t){return t(u)}}).$mount("#app")},ZL7j:function(t,e,a){"use strict";var n=a("slcd"),o=a.n(n);o.a},c4eP:function(t,e,a){},slcd:function(t,e,a){},vHmf:function(t,e,a){"use strict";var n=a("c4eP"),o=a.n(n);o.a}});
//# sourceMappingURL=app.2c804c34.js.map